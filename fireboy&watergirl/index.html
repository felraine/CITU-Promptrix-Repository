<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Forest Temple — Duo (Vanilla JS)</title>

  <!-- TailwindCSS (CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Custom CSS -->
  <link rel="stylesheet" href="styles.css" />
</head>
<body class="text-slate-100 select-none">

  <!-- FIXED TOP HUD BAR (exact height = 48px to match CSS/JS) -->
  <header id="hudBar" class="fixed top-0 inset-x-0 z-40 h-12 bg-slate-900/90 backdrop-blur border-b border-slate-800">
    <div class="h-full max-w-screen-2xl mx-auto px-4 flex items-center gap-4">
      <h1 class="font-semibold tracking-wide">Forest Temple — Duo</h1>
      <div class="ml-auto flex items-center gap-4 text-sm">
        <div class="flex items-center gap-2"><span class="text-slate-400">Level</span><span id="hudLevel" class="font-semibold">1-1</span></div>
        <div class="flex items-center gap-2"><span class="text-slate-400">Time</span><span id="hudTime" class="font-semibold">0.0s</span></div>
        <div class="flex items-center gap-2"><span class="text-slate-400">Deaths</span><span id="hudDeaths" class="font-semibold">0</span></div>
        <button id="btnReset" class="px-3 py-1 rounded-lg bg-slate-700 hover:bg-slate-600">Reset</button>
        <button id="btnPause" class="px-3 py-1 rounded-lg bg-slate-700 hover:bg-slate-600">Pause</button>
      </div>
    </div>
  </header>

  <!-- PAGE CONTENT: center the game box under the HUD -->
  <main class="w-screen min-h-screen pt-12 flex items-center justify-center">
    <div id="gameBox" class="game-box">
      <canvas id="game" aria-label="Game canvas"></canvas>

      <!-- START SCREEN -->
      <div id="startScreen" class="overlay">
        <div class="popup">
          <h2 class="text-xl font-semibold mb-2">Forest Temple — Duo</h2>
          <p class="text-slate-300 mb-4">Two-player puzzle platformer. Work together to reach your exits.</p>
          <button id="btnStart" class="btn">Start Game</button>
        </div>
      </div>

      <!-- CONTROLS POPUP -->
      <div id="controlsPopup" class="overlay" style="display:none">
        <div class="popup">
          <h2 class="text-lg font-semibold mb-3">Controls</h2>
          <div class="text-slate-200 text-left space-y-2 mb-4">
            <p>🔴 <strong>Fireboy</strong>: <kbd>←</kbd> <kbd>→</kbd> move, <kbd>↑</kbd> jump</p>
            <p>🔵 <strong>Watergirl</strong>: <kbd>A</kbd> <kbd>D</kbd> move, <kbd>W</kbd> jump</p>
            <p>⏸ <strong>Pause</strong>: Top-bar button</p>
            <p>🔁 <strong>Reset</strong>: Top-bar button</p>
          </div>
          <button id="btnControlsNext" class="btn">Next</button>
        </div>
      </div>

      <!-- GOAL POPUP -->
      <div id="goalPopup" class="overlay" style="display:none">
        <div class="popup">
          <h2 class="text-lg font-semibold mb-3">Goal</h2>
          <div class="text-slate-200 text-left space-y-2 mb-4">
            <p>• Get 🔴 to the <strong>red exit</strong> and 🔵 to the <strong>blue exit</strong>.</p>
            <p>• Press plates to open gates.</p>
            <p>• Avoid hazards and the rising murky water.</p>
          </div>
          <button id="btnGoalStart" class="btn">Let’s Go!</button>
        </div>
      </div>

      <!-- DEATH / RESTART POPUP -->
      <div id="deathPopup" class="overlay" style="display:none">
        <div class="popup">
          <h2 class="text-xl font-semibold mb-2">You Died</h2>
          <p class="text-slate-300 mb-4">Try again from the start of the level.</p>

          <div class="flex gap-3 justify-center">
            <!-- This ID is already wired in game.js -->
            <button id="btnRestart" class="btn">Restart</button>

            <!-- Optional: close to keep practicing without restarting -->
            <button id="btnDeathClose" class="btn bg-slate-600">Close</button>
          </div>
        </div>
      </div>

    </div>
  </main>

  <!-- Game JS -->
  <script src="game.js"></script>
</body>
</html>
